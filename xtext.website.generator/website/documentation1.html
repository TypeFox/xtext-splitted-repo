<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Xtext - Language Development Made Easy!</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description"
		content="The website of Eclipse Xtext, an open-source framework for development of programming langauges and domain-specific languages">
	<meta name="author" content="Sven Efftinge">
	<style>
		#header_wrapper {
			padding-top: 10px;
			/* 60px to make the container go all the way to the bottom of the topbar */
		}
		
		code.prettyprint {
	        padding: 0px;
	        background-color: white;
			border: none;
	    }
	</style>
	<!--  styles -->
	<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	
	<!-- Le fav and touch icons -->
	
	<link rel="shortcut icon" href="images/favicon.png">
	
	<link href="css/bootstrap.css" rel="stylesheet" type='text/css'>
	<link href="css/bootstrap-responsive.css" rel="stylesheet" type='text/css'>
	<link href="css/style.css" rel="stylesheet" type='text/css'>
	<link href="css/shield-responsive.css" rel="stylesheet" type='text/css'>
	<link href='css/fonts.css' rel='stylesheet' type='text/css'>
	<link href="css/prettyPhoto.css" rel="stylesheet" media="screen" type='text/css'>
	<link href="google-code-prettify/prettify.css" type="text/css" rel="stylesheet"/>
	<script src="js/twitter.js" type="text/javascript"></script>
	<script src="js/jquery-1.7.1.min.js"></script>
	<script src="js/jquery.prettyPhoto.js" type="text/javascript"></script>
		<script type="text/javascript">
	     $(document).ready(function() {
					prettyPrint();
	         
					 $('a[data-rel]').each(function() {
	             $(this).attr('rel', $(this).data('rel'));
	         });
	        
					 $("a[rel^='prettyPhoto']").prettyPhoto({
	             animation_speed: 'fast',
	             slideshow: 5000,
	             autoplay_slideshow: false,
	             opacity: 0.80,
	             show_title: true,
	             theme: 'ligh_square',
	             overlay_gallery: false,
	             social_tools: false
	       
	         });
	         
					$('#nav-outline > li > a').live('click', function() {        
						$(this).parent().find('ul').slideToggle();      
					});
	         
					$('.has-popover').popover();
		 	     
		 	     getTwitters('tweet', { 
			        id: 'xtext', 
			        count: 5,
			        includeRT: true,
			        enableLinks: true, 
			        clearContents: true,
			        template : '"%text%" - %time% by <a href="http://twitter.com/%user_screen_name%/statuses/%id_str%/">@%user_screen_name%</a><br/><br/>'
			     });
	         
	         var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
		 	     po.src = 'https://apis.google.com/js/plusone.js';
		 	     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
	     });
		</script>
	<script type="text/javascript">
		var _gaq = _gaq || [];	
	  	_gaq.push([ '_setAccount', 'UA-2429174-4' ]);
		_gaq.push([ '_trackPageview' ]);
		(function() {
			var ga = document.createElement('script');
			ga.type = 'text/javascript';
			ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl'
					: 'http://www')
					+ '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0];
			s.parentNode.insertBefore(ga, s);
		})();
	</script>
</head>
<body>
	<!-- Navbar -->
	<div class="navbar navbar-fixed-top"
		style="border-bottom: 1px solid #000;">
		<div class="navbar-inner">
			<div class="container">
				<a class="btn btn-navbar" data-toggle="collapse"
					data-target=".nav-collapse"> <span class="icon-bar"></span> <span
					class="icon-bar"></span> <span class="icon-bar"></span>
				</a> <a class="brand" href="index.html"></a>
	
	      <div class="btn-group pull-right">
	        <g:plusone href="http://www.xtext.org"></g:plusone>
	      </div>
	
				<div class="nav-collapse collapse" style="height: 0px;">
					<ul class="nav">
						<li ><a href="download.html">Download</a></li>
						<li ><a href="documentation.html">Documentation</a></li>
						<li ><a href="community.html">Community</a></li>
						<li><a href="http://www.eclipse.org">Eclipse.org</a></li>
					</ul>
	
				</div>
				<!--/.nav-collapse -->
	
			</div>
		</div>
	</div>
	<!-- Navbar End -->
<!--Container-->
<div id="header_wrapper" class="container">
	<div class="inner">
		<div class="container">
			<div class="page-heading"><h1>Documentation</h1></div>
		</div> <!-- /.container -->
	</div> <!-- /inner -->
	<ul id="nav-outline">
		<li>&nbsp;</li>
		<li style="color : #333;">Getting Started</li>
		<li><a href="documentation.html#FirstFiveMinutes">5 Minutes Tutorial</a>
	<ul>	<li><a href="documentation.html#NewProject">Creating A New Xtext Project</a></li>
		<li><a href="documentation.html#RunWorkflow">Generating The Language Infrastructure</a></li>
		<li><a href="documentation.html#TestingTheEditor">Try The Editor</a></li>
		<li><a href="documentation.html#Conclusion">Conclusion</a></li>
	</ul>	</li>
		<li><a href="documentation1.html#DomainModelWalkThrough">15 Minutes Tutorial</a>
	<ul style="display: block;">	<li><a href="documentation1.html#_0">Create A New Xtext Project</a></li>
		<li><a href="documentation1.html#_1">Write Your Own Grammar</a></li>
		<li><a href="documentation1.html#_2">Generate Language Artifacts</a></li>
		<li><a href="documentation1.html#_3">Run the Generated IDE Plug-in</a></li>
		<li><a href="documentation1.html#_4">Second Iteration: Adding Packages and Imports</a></li>
	</ul>	</li>
		<li><a href="documentation2.html#DomainmodelNextSteps">15 Minutes Tutorial - Extended</a>
	<ul>	<li><a href="documentation2.html#TutorialCodeGeneration">Writing a Code Generator With Xtend</a></li>
		<li><a href="documentation2.html#TutorialUnitTests">Unit Testing the Language</a></li>
		<li><a href="documentation2.html#TutorialValidation">Creating Custom Validation Rules</a></li>
	</ul>	</li>
		<li><a href="documentation3.html#JvmDomainmodel">Five simple steps to your JVM language</a>
	<ul>	<li><a href="documentation3.html#_5">Step One: Create A New Xtext Project</a></li>
		<li><a href="documentation3.html#_6">Step Two: Write the Grammar</a></li>
		<li><a href="documentation3.html#_7">Step Three: Generate Language Artifacts</a></li>
		<li><a href="documentation3.html#_8">Step Four: Define the Mapping to JVM Concepts</a></li>
		<li><a href="documentation3.html#_9">Step Five : Try the Editor!</a></li>
	</ul>	</li>
		<li>&nbsp;</li>
		<li style="color : #333;">Reference Documentation</li>
		<li><a href="documentation4.html#Overview">Overview</a>
	<ul>	<li><a href="documentation4.html#_10">What is Xtext?</a></li>
		<li><a href="documentation4.html#_11">How Does It Work?</a></li>
		<li><a href="documentation4.html#_12">Xtext is Highly Configurable</a></li>
		<li><a href="documentation4.html#_13">Who Uses Xtext?</a></li>
		<li><a href="documentation4.html#_14">Who is Behind Xtext?</a></li>
		<li><a href="documentation4.html#DSL">What is a Domain-Specific Language</a></li>
	</ul>	</li>
		<li><a href="documentation5.html#grammarLanguage">The Grammar Language</a>
	<ul>	<li><a href="documentation5.html#statemachine">A First Example</a></li>
		<li><a href="documentation5.html#syntax">The Syntax</a></li>
		<li><a href="documentation5.html#metamodelInference">Ecore Model Inference</a></li>
		<li><a href="documentation5.html#grammarMixins">Grammar Mixins</a></li>
		<li><a href="documentation5.html#_15">Common Terminals</a></li>
	</ul>	</li>
		<li><a href="documentation6.html#configuration">Configuration</a>
	<ul>	<li><a href="documentation6.html#generator">The Language Generator</a></li>
		<li><a href="documentation6.html#dependencyInjection">Dependency Injection in Xtext with Google Guice</a></li>
	</ul>	</li>
		<li><a href="documentation7.html#runtime_concepts">Runtime Concepts</a>
	<ul>	<li><a href="documentation7.html#runtimeSetup">Runtime Setup (ISetup)</a></li>
		<li><a href="documentation7.html#equinoxSetup">Setup within Eclipse-Equinox (OSGi)</a></li>
		<li><a href="documentation7.html#_16">Logging</a></li>
		<li><a href="documentation7.html#validation">Validation</a></li>
		<li><a href="documentation7.html#linking">Linking</a></li>
		<li><a href="documentation7.html#scoping">Scoping</a></li>
		<li><a href="documentation7.html#valueconverter">Value Converter</a></li>
		<li><a href="documentation7.html#serialization">Serialization</a></li>
		<li><a href="documentation7.html#formatting">Formatting (Pretty Printing)</a></li>
		<li><a href="documentation7.html#fragmentProvider">Fragment Provider (Referencing Xtext Models From Other EMF Artifacts)</a></li>
		<li><a href="documentation7.html#encoding">Encoding in Xtext</a></li>
	</ul>	</li>
		<li><a href="documentation8.html#ide_concepts">IDE Concepts</a>
	<ul>	<li><a href="documentation8.html#labelProvider">Label Provider</a></li>
		<li><a href="documentation8.html#contentAssist">Content Assist</a></li>
		<li><a href="documentation8.html#quickfixes">Quick Fixes</a></li>
		<li><a href="documentation8.html#templates">Template Proposals</a></li>
		<li><a href="documentation8.html#outline">Outline View</a></li>
		<li><a href="documentation8.html#hyperlinking">Hyperlinking</a></li>
		<li><a href="documentation8.html#highlighting">Syntax Coloring</a></li>
		<li><a href="documentation8.html#refactoring">Rename Refactoring</a></li>
	</ul>	</li>
		<li><a href="documentation9.html#Xbase">Xtext and Java</a>
	<ul>	<li><a href="documentation9.html#_17">Plug-in Setup</a></li>
		<li><a href="documentation9.html#jvmtypes">Referring to Java Elements using JVM Types</a></li>
		<li><a href="documentation9.html#xbaseJavaReferences">Referring to Java Types Using Xbase</a></li>
		<li><a href="documentation9.html#xbaseInferredType">Inferring a JVM Model</a></li>
		<li><a href="documentation9.html#xbaseExpressions">Using Xbase Expressions</a></li>
		<li><a href="documentation9.html#xbaseLanguageRef_Introduction">Xbase Language Reference</a></li>
	</ul>	</li>
		<li><a href="documentation10.html#MWE2">MWE2</a>
	<ul>	<li><a href="documentation10.html#MWE2Exampe">Examples</a></li>
		<li><a href="documentation10.html#MWE2LanguageReference">Language Reference</a></li>
		<li><a href="documentation10.html#MWE2SyntaxReference">Syntax Reference</a></li>
	</ul>	</li>
		<li><a href="documentation11.html#emf_integration">Integration with EMF and Other EMF Editors</a>
	<ul>	<li><a href="documentation11.html#model_metamodel">Model, Ecore Model, and Ecore</a></li>
		<li><a href="documentation11.html#emf_codegen">EMF Code Generation</a></li>
		<li><a href="documentation11.html#xtext_resource">XtextResource Implementation</a></li>
		<li><a href="documentation11.html#gmf_integration">Integration with GMF Editors</a></li>
	</ul>	</li>
		<li>&nbsp;</li>
		<li style="color : #333;">Appendix</li>
		<li><a href="documentation12.html#migrating_from_1_0_x">Migrating from Xtext 1.0.x to 2.0</a>
	<ul>	<li><a href="documentation12.html#_18">Take the Shortcut</a></li>
		<li><a href="documentation12.html#_19">Migrating Step By Step</a></li>
		<li><a href="documentation12.html#_20">Now go for then new features</a></li>
	</ul>	</li>
		<li><a href="documentation13.html#migrating_from_0_7">Migrating from Xtext 0.7.x to 1.0</a>
	<ul>	<li><a href="documentation13.html#_21">Migrating Step By Step</a></li>
	</ul>	</li>
		<li>&nbsp;</li>
		<li style="color : #333;">Additional Resources
		<li><a href="documentation/2.3.0/Documentation.pdf">Documentation <img src="images/pdf_icon.gif"></a>
		<li><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/">API Documentation (JavaDoc)</a>
	</ul>
</div>
<div id="page">  
	<div class="inner">
		<div id="maincontainer" class="container">
			<!-- chapter -->
			<section id="DomainModelWalkThrough" style="padding-top: 68px; margin-top: -68px;">
				<div class="row">
					<div class="span8 offset3">
						<h1 style="padding-top: 30px;">
							15 Minutes Tutorial
						</h1>
						<hr style="margin-top: 5px; margin-bottom: 5px;">
						<p>
							In this tutorial we will implement a small domain-specific language to model entities and properties
							similar to what you may know from Rails, Grails or Spring Roo. The syntax is very suggestive :
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-domainexample linenums">
datatype String

entity Blog {
  title: String
  many posts: Post
}

entity HasAuthor {
  author: String
}

entity Post extends HasAuthor {
  title: String
  content: String
  many comments: Comment
}

entity Comment extends HasAuthor {
  content: String
}</pre>
							<p>
						</p>
						<p>
							After you have installed Xtext on your machine, start Eclipse and set up a fresh workspace.
						</p>
						<!--  section -->
						<section id="_0" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Create A New Xtext Project</h2>
						<p>
							In order to get started we first need to create some Eclipse projects. Use the Eclipse wizard to do so:
						</p>
						<p>
							<strong>File -&gt; New -&gt; Project...  -&gt; Xtext -&gt; Xtext project</strong>
						</p>
						<p>
							Choose a meaningful project name, language name and file extension, e.g.
						</p>
						<p>
							</p>
							<table class="table table-bordered table-condensed">
							<tr><td><strong>Main project name:</strong></td>
							<td>org.example.domainmodel</td>
							</tr>
							<tr><td><strong>Language name:</strong></td>
							<td>org.example.domainmodel.Domainmodel</td>
							</tr>
							<tr><td><strong>DSL-File extension:</strong></td>
							<td>dmodel</td>
							</tr>
							</table>
							<p>
						</p>
						<p>
							Click on <strong>Finish</strong> to create the projects.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/30min_wizard.png" alt="" width="633" height="547">
							</div>
							<p>
						</p>
						<p>
							After you have successfully finished the wizard, you will find three new projects in your workspace.
						</p>
						<p>
							</p>
							<table class="table table-bordered table-condensed">
							<tr><td>org.example.domainmodel</td>
							<td>Contains the grammar definition and all runtime components (parser, lexer, linker, validation, etc.)</td>
							</tr>
							<tr><td>org.example.domainmodel.tests</td>
							<td>Unit tests go here.</td>
							</tr>
							<tr><td>org.example.domainmodel.ui</td>
							<td>The Eclipse editor and all the other workbench related functionality.</td>
							</tr>
							</table>
							<p>
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/30min_initialprojectlayout.png" alt="" width="912" height="544">
							</div>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="_1" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Write Your Own Grammar</h2>
						<p>
							The wizard will automatically open the grammar file 
							<strong>Domainmodel.xtext</strong> in the editor. As you can see that it already contains a simple <strong>Hello World</strong> grammar:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.example.domainmodel.Domainmodel with
                                      org.eclipse.xtext.common.Terminals

generate domainmodel "http://www.example.org/domainmodel/Domainmodel"

Model:
  greetings+=Greeting*;
  
Greeting:
  'Hello' name=ID '!';</pre>
							<p>
						</p>
						<p>
							Let's now just replace that grammar definition with the one for our domain model language:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.example.domainmodel.Domainmodel with
                                      org.eclipse.xtext.common.Terminals

generate domainmodel "http://www.example.org/domainmodel/Domainmodel"

Domainmodel :
  elements += Type*
;
  
Type:
  DataType | Entity
;
  
DataType:
  'datatype' name = ID
;
 
Entity:
  'entity' name = ID ('extends' superType = [Entity])? '{'
     features += Feature*
  '}'
;
 
Feature:
  many?='many'? name = ID ':' type = [Type]
;</pre>
							<p>
						</p>
						<p>
							Let's have a more detailed look at what the different grammar rules mean:
						</p>
						<p>
							</p>
							<ol>
								<li>The first rule in a grammar is always used as the entry or start rule.  
								<pre class="prettyprint lang-xtext linenums">
Domainmodel :
  elements += Type*
;</pre>
								    
								    It says that a <strong>Domainmodel</strong> contains an arbitrary number (<code class="prettyprint lang-xtext">*</code>) of <strong>Type</strong>s which will be added (<code class="prettyprint lang-xtext">+=</code>)
								    to a feature called <code class="prettyprint lang-xtext">elements</code>.</li>
								<li>The rule <strong>Type</strong> delegates to either the rule <strong>DataType</strong> or (<code class="prettyprint lang-xtext">|</code>) the rule <strong>Entity</strong>.
								      
								<pre class="prettyprint lang-xtext linenums">
Type:
  DataType | Entity
;</pre></li>
								<li>The rule <strong>DataType</strong> starts with a keyword <code class="prettyprint lang-xtext">'datatype'</code>, followed by an identifier
								    which is parsed by a rule called <strong>ID</strong>. The rule <strong>ID</strong> is defined in the super grammar
								<strong>org.eclipse.xtext.common.Terminals</strong> and parses a single word, a.k.a identifier. You can navigate
								    to the declaration by using <strong>F3</strong> on the rule call.
								    The value returned by the call to <strong>ID</strong> is assigned (<code class="prettyprint lang-xtext">=</code>) to the feature <strong>name</strong>.
								      
								<pre class="prettyprint lang-xtext linenums">
DataType:
  'datatype' name = ID
;</pre></li>
								<li>The rule <strong>Entity</strong> again starts with the definition of a keyword followed by a name.
								    
								<pre class="prettyprint lang-xtext linenums">
Entity :
  'entity' name = ID ('extends' superType = [Entity])? '{'
    features += Feature*
  '}'
;</pre>
								    
								    Next up there is the extends clause which is parenthesized and optional (<code class="prettyprint lang-xtext">?</code>). 
								    Since the feature named <strong>superType</strong> is a cross reference (note the square brackets),
								    the parser rule <strong>Entity</strong> is not called here, but only a single identifier (the <strong>ID</strong>-rule) is parsed.
								    The actual <strong>Entity</strong> will be resolved during the linking phase.
								    Finally between curly braces there can be any number of <strong>Features</strong>, which invokes the next rule.</li>
								<li>Last but not least, the rule <strong>Feature</strong> is defined as follows:
								    
								<pre class="prettyprint lang-xtext linenums">
Feature:
  (many ?= 'many')? name = ID ':' type = [Type] 
;</pre>
								    
								    The keyword <code class="prettyprint lang-domainexample">many</code> is used to model a multi valued feature in the domain model
								    DSL. The assignment operator (<code class="prettyprint lang-xtext">?=</code>) implies that the feature <strong>many</strong> is of type <strong>boolean</strong>. You are already familiar with
								    the other syntax elements in this parser rule.</li>
							</ol>
							<p>
						</p>
						<p>
							This domain model grammar already uses the most important concepts of Xtext's grammar language. 
							you have learned that keywords are written as string literals and a simple assignment uses a plain equal sign (<code class="prettyprint lang-xtext">=</code>) 
							where the multi value assignment used a plus-equals (<code class="prettyprint lang-xtext">+=</code>). We have also seen the boolean assignment
							operator (<code class="prettyprint lang-xtext">?=</code>). Furthermore we saw how a cross reference can be declared and learned about
							different cardinalities (<code class="prettyprint lang-xtext">?</code> = optional, <code class="prettyprint lang-xtext">*</code> = any number, <code class="prettyprint lang-xtext">+</code> = at
							least once).  Please consult the <a href="documentation5.html#grammarLanguage">Grammar Language Reference</a> for more details.
							Let's now have a look what you can do with such a language description.
						</p>
						</section>
						<!--  section -->
						<section id="_2" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Generate Language Artifacts</h2>
						<p>
							Now that we have the grammar in place and defined we need to execute the code generator that will derive the
							various language components. To do so, locate the file <strong>GenerateDomainmodel.mwe2</strong> file next to the grammar 
							file in the package explorer view. From its context menu, choose
						</p>
						<p>
							<strong>Run As -&gt; MWE2 Workflow</strong>.
						</p>
						<p>
							This will trigger the Xtext language generator. It generates the parser and 
							serializer and some additional infrastructure code. You will see its logging 
							messages in the Console View.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/30min_rungenerator.png" alt="" width="601" height="510">
							</div>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="_3" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Run the Generated IDE Plug-in</h2>
						<p>
							We are now able to test the IDE integration. If you select <strong>Run -&gt; Run Configurations...</strong> from the Eclipse menu, you can
							choose <strong>Eclipse Application -&gt; Launch Runtime Eclipse</strong>. This preconfigured launch shortcut already has appropriate
							memory settings and parameters set. Now you can hit <strong>Run</strong> to start a new Eclipse.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/30min_launchconfiguration.png" alt="" width="1074" height="780">
							</div>
							<p>
						</p>
						<p>
							This will spawn a new Eclipse workbench with your newly developed plug-ins installed. 
							In the new workbench, create a new project of your choice, e.g.
							<strong>File -&gt; New -&gt; Project...  -&gt; Java Project</strong> and therein a new file 
							with the file extension you chose in the beginning (<strong>*.dmodel</strong>). This will open
							the generated entity editor. Try it and discover the default 
							functionality for code completion, syntax highlighting, syntactic validation, linking errors, 
							the outline view, find references etc.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/30min_editor.png" alt="" width="879" height="637">
							</div>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="_4" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Second Iteration: Adding Packages and Imports</h2>
						<p>
							After you have created the your first DSL and had a look at the editor, the language should be refined
							and incrementally enhanced. The Domain Model language should support the notion of <strong>Package</strong>s in order to avoid name
							clashes and to better fit with the target environment (Java). A <strong>Package</strong> may contain <strong>Types</strong> and other packages. 
							In order to allow fort names in references, we will also add a way to declare imports.
						</p>
						<p>
							In the end we want to be able to split the previously used model into to distinct files :
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-domainexample linenums">
// datatypes.dmodel

datatype String</pre>
							<p>
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-domainexample linenums">
// commons.dmodel

package my.company.common {
  
  entity HasAuthor {
    author: String
  }
}</pre>
							<p>
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-domainexample linenums">
// blogs.dmodel

package my.company.blog {
  
  import my.company.common.*
    
  entity Blog {
    title: String
    many posts: Post
  }
  
  entity Post extends my.company.common.HasAuthor {
    title: String
    content: String
    many comments: Comment
  }
  
  entity Comment extends HasAuthor {
    content: String
  }
}</pre>
							<p>
						</p>
						<p>
							Let's start enhancing the grammar.
						</p>
						<p>
							</p>
							<ol>
								<li>Since a <strong>Domainmodel</strong> no longer contains types but packages, too,
								    the entry rule has to be modified. Furthermore, a common super type for <strong>Packages</strong> and <strong>Types</strong>
								    should be introduced: the <strong>AbstractElement</strong>.
								        
								<pre class="prettyprint lang-xtext linenums">
Domainmodel:
  (elements += AbstractElement)*
;

AbstractElement:
  PackageDeclaration | Type
;</pre></li>
								<li>A <code class="prettyprint lang-xtext">PackageDeclaration</code> in turn looks pretty much as expected. It contains a number
								    of <strong>Imports</strong> and <strong>AbstractElements</strong>. Since <strong>Imports</strong> should be allowed for the root-Domainmodel,
								    too, we add them as an alternative to the rule <code class="prettyprint lang-xtext">AbstractElement</code>.
								    
								<pre class="prettyprint lang-xtext linenums">
PackageDeclaration:
  'package' name = QualifiedName '{'
    (elements += AbstractElement)*
  '}'
;

AbstractElement:
  PackageDeclaration | Type | Import
;

QualifiedName:
  ID ('.' ID)*
;</pre>
								    
								    The <code class="prettyprint lang-xtext">QualifiedName</code> is a little special. It does not contain any assignments. Therefore,
								    it serves as a data type rule, which returns a String. So the feature <strong>name</strong> of a <strong>Package</strong> is still of
								    type <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html"><abbr title="java.lang.String">String</abbr></a>.</li>
								<li>Imports can be defined in a very convenient way with Xtext. If you use the name <strong>importedNamespace</strong>
								    in a parser rule, the framework will treat the value as an import. It even supports wildcard
								    and handles them as expected:
								    
								<pre class="prettyprint lang-xtext linenums">
Import:
  'import' importedNamespace = QualifiedNameWithWildcard
;
											  
QualifiedNameWithWildcard:
  QualifiedName '.*'?
;</pre>
								    
								    Similar to the rule <code class="prettyprint lang-xtext">QualifiedName</code>, <code class="prettyprint lang-xtext">QualifiedNameWithWildcard</code> returns
								    a plain string.</li>
								<li>The last step is to allow fully qualified names in cross references, too. Otherwise one could
								    not refer to an entity without adding an import statement.
								    
								<pre class="prettyprint lang-xtext linenums">
Entity:
  'entity' name = ID 
              ('extends' superType = [Entity | QualifiedName])?
  '{'
    (features += Feature)*
  '}'
;
 
Feature:
  (many ?= 'many')? name = ID ':' type = [Type | QualifiedName]
;</pre>
								    
								<strong>Please note that the bar (<code class="prettyprint lang-xtend">|</code>) is not an alternative in the context of a cross reference,
								    but used to specify the syntax of the parsed string.</strong></li>
							</ol>
							<p>
						</p>
						<p>
							That's all for the grammar. It should now read as
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.example.domainmodel.Domainmodel with
                                      org.eclipse.xtext.common.Terminals

generate domainmodel "http://www.example.org/domainmodel/Domainmodel"

Domainmodel:
  (elements += AbstractElement)*
;

PackageDeclaration:
  'package' name = QualifiedName '{'
    (elements += AbstractElement)*
  '}'
;

AbstractElement:
  PackageDeclaration | Type | Import
;

QualifiedName:
  ID ('.' ID)*
;

Import:
  'import' importedNamespace = QualifiedNameWithWildcard
;
  
QualifiedNameWithWildcard:
  QualifiedName '.*'?
;
  
Type:
  DataType | Entity
;
  
DataType:
  'datatype' name=ID
;
 
Entity:
  'entity' name = ID 
              ('extends' superType = [Entity | QualifiedName])?
  '{'
    (features += Feature)*
  '}'
;
 
Feature:
  (many ?= 'many')? name = ID ':' type = [Type | QualifiedName]
;</pre>
							<p>
						</p>
						<p>
							You should regenerate the language infrastructure as described in the 
							previous section, and give the editor another try. You can even split up your model 
							into smaller parts and have cross-references across file boundaries.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/30min_multipleeditors.png" alt="" width="978" height="448">
							</div>
							<p>
						</p>
						</section>
					</div>
				</div>
			</section>
		</div>
	</div>
</div>
	<div id="extra">
		<div class="inner">
			<div class="container">
				<div class="row">
					<div class="span6">
						<h3>Quick Links</h3>
						<ul class="footer-links clearfix">
							<li><a href="http://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li>
							<li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
							<li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
							<li><a href="http://www.eclipse.org/legal/">Legal</a></li>
						</ul>
						<ul class="footer-links clearfix">
	      			<li><a href="http://www.eclipse.org">Eclipse Home</a></li>
							<li><a href="http://marketplace.eclipse.org/">Market Place</a></li>
							<li><a href="http://live.eclipse.org/">Eclipse Live</a></li>
							<li><a href="http://www.planeteclipse.org/">Eclipse Planet</a></li>
						</ul>
					</div>
					<div class="span6">
						<h3><a href="https://twitter.com/#!/xtext" style="color: white;">Xtext</a> on Twitter</h3>
						<br />
						<div id="tweet">
							<p>Please wait while my tweets load</p>
							<p>
								<a href="http://twitter.com/rem">If you can't wait - check
									out what I've been twittering</a>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Le javascript
	    ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	
	<script src="js/bootstrap-transition.js"></script>
	<script src="js/bootstrap-alert.js"></script>
	<script src="js/bootstrap-modal.js"></script>
	<script src="js/bootstrap-dropdown.js"></script>
	<script src="js/bootstrap-scrollspy.js"></script>
	<script src="js/bootstrap-tab.js"></script>
	<script src="js/bootstrap-tooltip.js"></script>
	<script src="js/bootstrap-popover.js"></script>
	<script src="js/bootstrap-button.js"></script>
	<script src="js/bootstrap-collapse.js"></script>
	<script src="js/bootstrap-carousel.js"></script>
	<script src="js/bootstrap-typeahead.js"></script>
	
	<!-- include pretty-print files -->
	<script type="text/javascript" src="google-code-prettify/prettify.js"></script>
	<script type="text/javascript" src="google-code-prettify/lang-xtend.js"></script>
	
	<!-- Include the plug-in -->
	<script src="js/jquery.easing.1.3.js" type="text/javascript"></script>
	<script src="js/custom.js" type="text/javascript"></script>
	<script type="text/javascript" src="google-code-prettify/lang-common.js"></script><script type="text/javascript">
		registerLanguage('grammar|import|generate|terminal|enum|returns|with|hidden|as|current|fragment|EOF', 'xtext');
		registerLanguage('extends|super|instanceof|as|new|null|false|true|val|var|if|else|switch|case|default|do|while|for|typeof|throw|try|catch|finally|this|it|int|boolean|short|char|double|float|long|byte|void|return', 'xbase');
		registerLanguage('module|var|auto-inject|auto|inject|import|true|false', 'mwe2');
		registerLanguage('IMPORT|EXTENSION|FILE|ENDFILE|DEFINE|ENDDEFINE|FOR|ENDFOR|FOREACH|ENDFOREACH|AS|SEPARATOR|ITERATOR|EXPAND|REM|ENDREM|PROTECT|ENDPROTECT|this|IF|ENDIF|ELSE|null', 'xpand');
		registerLanguage('import|extension|this|create|cached|true|false|let|switch|case|if|then|else|context|WARNING|ERROR', 'check');
		registerLanguage('Hello', 'mydsl');
		registerLanguage('package|entity|datatype|many|import|extends|public|op|return|mapped-to', 'domainexample');
		registerLanguage('datatype|mapped-to', 'javatypesexample');
		registerLanguage('events|commands|state|actions|end|resetEvents', 'fowlerexample');
		registerLanguage('ref', 'linkingexample');
	</script>
</body>
</html>
