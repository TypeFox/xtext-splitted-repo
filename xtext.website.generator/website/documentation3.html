<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Xtext - Language Development Made Easy!</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description"
		content="The website of Eclipse Xtext, an open-source framework for development of programming langauges and domain-specific languages">
	<meta name="author" content="Sven Efftinge">
	<style>
		#header_wrapper {
			padding-top: 10px;
			/* 60px to make the container go all the way to the bottom of the topbar */
		}
		
		code.prettyprint {
	        padding: 0px;
	        background-color: white;
			border: none;
	    }
	</style>
	<!--  styles -->
	<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	
	<!-- Le fav and touch icons -->
	
	<link rel="shortcut icon" href="images/favicon.png">
	
	<link href="css/bootstrap.css" rel="stylesheet" type='text/css'>
	<link href="css/bootstrap-responsive.css" rel="stylesheet" type='text/css'>
	<link href="css/style.css" rel="stylesheet" type='text/css'>
	<link href="css/shield-responsive.css" rel="stylesheet" type='text/css'>
	<link href='css/fonts.css' rel='stylesheet' type='text/css'>
	<link href="css/prettyPhoto.css" rel="stylesheet" media="screen" type='text/css'>
	<link href="google-code-prettify/prettify.css" type="text/css" rel="stylesheet"/>
	<script src="js/twitter.js" type="text/javascript"></script>
	<script src="js/jquery-1.7.1.min.js"></script>
	<script src="js/jquery.prettyPhoto.js" type="text/javascript"></script>
		<script type="text/javascript">
	     $(document).ready(function() {
					prettyPrint();
	         
					 $('a[data-rel]').each(function() {
	             $(this).attr('rel', $(this).data('rel'));
	         });
	        
					 $("a[rel^='prettyPhoto']").prettyPhoto({
	             animation_speed: 'fast',
	             slideshow: 5000,
	             autoplay_slideshow: false,
	             opacity: 0.80,
	             show_title: true,
	             theme: 'ligh_square',
	             overlay_gallery: false,
	             social_tools: false
	       
	         });
	         
					$('#nav-outline > li > a').live('click', function() {        
						$(this).parent().find('ul').slideToggle();      
					});
	         
					$('.has-popover').popover();
		 	     
		 	     getTwitters('tweet', { 
			        id: 'xtext', 
			        count: 5,
			        includeRT: true,
			        enableLinks: true, 
			        clearContents: true,
			        template : '"%text%" - %time% by <a href="http://twitter.com/%user_screen_name%/statuses/%id_str%/">@%user_screen_name%</a><br/><br/>'
			     });
	         
	         var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
		 	     po.src = 'https://apis.google.com/js/plusone.js';
		 	     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
	     });
		</script>
	<script type="text/javascript">
		var _gaq = _gaq || [];	
	  	_gaq.push([ '_setAccount', 'UA-2429174-4' ]);
		_gaq.push([ '_trackPageview' ]);
		(function() {
			var ga = document.createElement('script');
			ga.type = 'text/javascript';
			ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl'
					: 'http://www')
					+ '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0];
			s.parentNode.insertBefore(ga, s);
		})();
	</script>
</head>
<body>
	<!-- Navbar -->
	<div class="navbar navbar-fixed-top"
		style="border-bottom: 1px solid #000;">
		<div class="navbar-inner">
			<div class="container">
				<a class="btn btn-navbar" data-toggle="collapse"
					data-target=".nav-collapse"> <span class="icon-bar"></span> <span
					class="icon-bar"></span> <span class="icon-bar"></span>
				</a> <a class="brand" href="index.html"></a>
	
	      <div class="btn-group pull-right">
	        <g:plusone href="http://www.xtext.org"></g:plusone>
	      </div>
	
				<div class="nav-collapse collapse" style="height: 0px;">
					<ul class="nav">
						<li ><a href="download.html">Download</a></li>
						<li ><a href="documentation.html">Documentation</a></li>
						<li ><a href="community.html">Community</a></li>
						<li><a href="http://www.eclipse.org">Eclipse.org</a></li>
					</ul>
	
				</div>
				<!--/.nav-collapse -->
	
			</div>
		</div>
	</div>
	<!-- Navbar End -->
<!--Container-->
<div id="header_wrapper" class="container">
	<div class="inner">
		<div class="container">
			<div class="page-heading"><h1>Documentation</h1></div>
		</div> <!-- /.container -->
	</div> <!-- /inner -->
	<ul id="nav-outline">
		<li>&nbsp;</li>
		<li style="color : #333;">Getting Started</li>
		<li><a href="documentation.html#FirstFiveMinutes">5 Minutes Tutorial</a>
	<ul>	<li><a href="documentation.html#NewProject">Creating A New Xtext Project</a></li>
		<li><a href="documentation.html#RunWorkflow">Generating The Language Infrastructure</a></li>
		<li><a href="documentation.html#TestingTheEditor">Try The Editor</a></li>
		<li><a href="documentation.html#Conclusion">Conclusion</a></li>
	</ul>	</li>
		<li><a href="documentation1.html#DomainModelWalkThrough">15 Minutes Tutorial</a>
	<ul>	<li><a href="documentation1.html#_0">Create A New Xtext Project</a></li>
		<li><a href="documentation1.html#_1">Write Your Own Grammar</a></li>
		<li><a href="documentation1.html#_2">Generate Language Artifacts</a></li>
		<li><a href="documentation1.html#_3">Run the Generated IDE Plug-in</a></li>
		<li><a href="documentation1.html#_4">Second Iteration: Adding Packages and Imports</a></li>
	</ul>	</li>
		<li><a href="documentation2.html#DomainmodelNextSteps">15 Minutes Tutorial - Extended</a>
	<ul>	<li><a href="documentation2.html#TutorialCodeGeneration">Writing a Code Generator With Xtend</a></li>
		<li><a href="documentation2.html#TutorialUnitTests">Unit Testing the Language</a></li>
		<li><a href="documentation2.html#TutorialValidation">Creating Custom Validation Rules</a></li>
	</ul>	</li>
		<li><a href="documentation3.html#JvmDomainmodel">Five simple steps to your JVM language</a>
	<ul>	<li><a href="documentation3.html#_5">Step One: Create A New Xtext Project</a></li>
		<li><a href="documentation3.html#_6">Step Two: Write the Grammar</a></li>
		<li><a href="documentation3.html#_7">Step Three: Generate Language Artifacts</a></li>
		<li><a href="documentation3.html#_8">Step Four: Define the Mapping to JVM Concepts</a></li>
		<li><a href="documentation3.html#_9">Step Five : Try the Editor!</a></li>
	</ul>	</li>
		<li>&nbsp;</li>
		<li style="color : #333;">Reference Documentation</li>
		<li><a href="documentation4.html#Overview">Overview</a>
	<ul>	<li><a href="documentation4.html#_10">What is Xtext?</a></li>
		<li><a href="documentation4.html#_11">How Does It Work?</a></li>
		<li><a href="documentation4.html#_12">Xtext is Highly Configurable</a></li>
		<li><a href="documentation4.html#_13">Who Uses Xtext?</a></li>
		<li><a href="documentation4.html#_14">Who is Behind Xtext?</a></li>
		<li><a href="documentation4.html#DSL">What is a Domain-Specific Language</a></li>
	</ul>	</li>
		<li><a href="documentation5.html#grammarLanguage">The Grammar Language</a>
	<ul>	<li><a href="documentation5.html#statemachine">A First Example</a></li>
		<li><a href="documentation5.html#syntax">The Syntax</a></li>
		<li><a href="documentation5.html#metamodelInference">Ecore Model Inference</a></li>
		<li><a href="documentation5.html#grammarMixins">Grammar Mixins</a></li>
		<li><a href="documentation5.html#_15">Common Terminals</a></li>
	</ul>	</li>
		<li><a href="documentation6.html#configuration">Configuration</a>
	<ul>	<li><a href="documentation6.html#generator">The Language Generator</a></li>
		<li><a href="documentation6.html#dependencyInjection">Dependency Injection in Xtext with Google Guice</a></li>
	</ul>	</li>
		<li><a href="documentation7.html#runtime_concepts">Runtime Concepts</a>
	<ul>	<li><a href="documentation7.html#runtimeSetup">Runtime Setup (ISetup)</a></li>
		<li><a href="documentation7.html#equinoxSetup">Setup within Eclipse-Equinox (OSGi)</a></li>
		<li><a href="documentation7.html#_16">Logging</a></li>
		<li><a href="documentation7.html#validation">Validation</a></li>
		<li><a href="documentation7.html#linking">Linking</a></li>
		<li><a href="documentation7.html#scoping">Scoping</a></li>
		<li><a href="documentation7.html#valueconverter">Value Converter</a></li>
		<li><a href="documentation7.html#serialization">Serialization</a></li>
		<li><a href="documentation7.html#formatting">Formatting (Pretty Printing)</a></li>
		<li><a href="documentation7.html#fragmentProvider">Fragment Provider (Referencing Xtext Models From Other EMF Artifacts)</a></li>
		<li><a href="documentation7.html#encoding">Encoding in Xtext</a></li>
	</ul>	</li>
		<li><a href="documentation8.html#ide_concepts">IDE Concepts</a>
	<ul>	<li><a href="documentation8.html#labelProvider">Label Provider</a></li>
		<li><a href="documentation8.html#contentAssist">Content Assist</a></li>
		<li><a href="documentation8.html#quickfixes">Quick Fixes</a></li>
		<li><a href="documentation8.html#templates">Template Proposals</a></li>
		<li><a href="documentation8.html#outline">Outline View</a></li>
		<li><a href="documentation8.html#hyperlinking">Hyperlinking</a></li>
		<li><a href="documentation8.html#highlighting">Syntax Coloring</a></li>
		<li><a href="documentation8.html#refactoring">Rename Refactoring</a></li>
	</ul>	</li>
		<li><a href="documentation9.html#Xbase">Xtext and Java</a>
	<ul>	<li><a href="documentation9.html#_17">Plug-in Setup</a></li>
		<li><a href="documentation9.html#jvmtypes">Referring to Java Elements using JVM Types</a></li>
		<li><a href="documentation9.html#xbaseJavaReferences">Referring to Java Types Using Xbase</a></li>
		<li><a href="documentation9.html#xbaseInferredType">Inferring a JVM Model</a></li>
		<li><a href="documentation9.html#xbaseExpressions">Using Xbase Expressions</a></li>
		<li><a href="documentation9.html#xbaseLanguageRef_Introduction">Xbase Language Reference</a></li>
	</ul>	</li>
		<li><a href="documentation10.html#MWE2">MWE2</a>
	<ul>	<li><a href="documentation10.html#MWE2Exampe">Examples</a></li>
		<li><a href="documentation10.html#MWE2LanguageReference">Language Reference</a></li>
		<li><a href="documentation10.html#MWE2SyntaxReference">Syntax Reference</a></li>
	</ul>	</li>
		<li><a href="documentation11.html#emf_integration">Integration with EMF and Other EMF Editors</a>
	<ul>	<li><a href="documentation11.html#model_metamodel">Model, Ecore Model, and Ecore</a></li>
		<li><a href="documentation11.html#emf_codegen">EMF Code Generation</a></li>
		<li><a href="documentation11.html#xtext_resource">XtextResource Implementation</a></li>
		<li><a href="documentation11.html#gmf_integration">Integration with GMF Editors</a></li>
	</ul>	</li>
		<li>&nbsp;</li>
		<li style="color : #333;">Appendix</li>
		<li><a href="documentation12.html#migrating_from_1_0_x">Migrating from Xtext 1.0.x to 2.0</a>
	<ul>	<li><a href="documentation12.html#_18">Take the Shortcut</a></li>
		<li><a href="documentation12.html#_19">Migrating Step By Step</a></li>
		<li><a href="documentation12.html#_20">Now go for then new features</a></li>
	</ul>	</li>
		<li><a href="documentation13.html#migrating_from_0_7">Migrating from Xtext 0.7.x to 1.0</a>
	<ul>	<li><a href="documentation13.html#_21">Migrating Step By Step</a></li>
	</ul>	</li>
		<li>&nbsp;</li>
		<li style="color : #333;">Additional Resources
		<li><a href="documentation/2.3.0/Documentation.pdf">Documentation <img src="images/pdf_icon.gif"></a>
		<li><a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/">API Documentation (JavaDoc)</a>
	</ul>
</div>
<div id="page">  
	<div class="inner">
		<div id="maincontainer" class="container">
			<!-- chapter -->
			<section id="JvmDomainmodel" style="padding-top: 68px; margin-top: -68px;">
				<div class="row">
					<div class="span8 offset3">
						<h1 style="padding-top: 30px;">
							Five simple steps to your JVM language
						</h1>
						<hr style="margin-top: 5px; margin-bottom: 5px;">
						<p>
							In this tutorial we will basically implement the domain model language again, but this time we will make use of
							the special JVM support shipped with Xtext 2.x. This kind of language really is a sweet spot for DSLs,
							so feel free to use this as a blueprint and add your project specific features later on.
						</p>
						<p>
							The revised domain model language supports expressions and cross links to Java types. It is directly
							translated to Java source code. The syntax should look very familiar. Here is an example:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-domainexample linenums">
import java.util.List

package my.model {

  entity Person {
    name: String
    firstName: String
    friends: List&lt;Person&gt;
    address : Address
    op getFullName() : String {
      return firstName + " " + name;
    }
    
    op getFriendsSortedByFullName() : List&lt;Person&gt; {
      return friends.sortBy[ f | f.fullName ]
    }
  }
  
  entity Address {
    street: String
    zip: String
    city: String
  }
}</pre>
							<p>
						</p>
						<p>
							As you can see, it supports all kinds of advanced features such as Java generics and full expressions
							even including lambda expressions. Don't panic you will not have to implement these concepts on your own but will
							reuse a lot of helpful infrastructure to build the language.
						</p>
						<p>
							We will now walk through the <strong>five!</strong> little steps needed to get this language fully working including
							its compiler.
						</p>
						<p>
							After you have installed Xtext on your machine, start Eclipse and set up a fresh workspace.
						</p>
						<!--  section -->
						<section id="_5" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Step One: Create A New Xtext Project</h2>
						<p>
							In order to get started we first need to create some Eclipse projects. Use the Eclipse wizard to do so:
						</p>
						<p>
							<strong>File -&gt; New -&gt; Project...  -&gt; Xtext -&gt; Xtext Project</strong>
						</p>
						<p>
							Choose a meaningful project name, language name and file extension, e.g.
						</p>
						<p>
							</p>
							<table class="table table-bordered table-condensed">
							<tr><td><strong>Main project name:</strong></td>
							<td>org.example.domainmodel</td>
							</tr>
							<tr><td><strong>Language name:</strong></td>
							<td>org.example.domainmodel.Domainmodel</td>
							</tr>
							<tr><td><strong>DSL-File extension:</strong></td>
							<td>dmodel</td>
							</tr>
							</table>
							<p>
						</p>
						<p>
							Click on <strong>Finish</strong> to create the projects.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/30min_wizard.png" alt="" width="633" height="547">
							</div>
							<p>
						</p>
						<p>
							After you have successfully finished the wizard, you will find three new projects in your workspace.
						</p>
						<p>
							</p>
							<table class="table table-bordered table-condensed">
							<tr><td>org.example.domainmodel</td>
							<td>Contains the grammar definition and all runtime components (parser, lexer, linker, validation, etc.)</td>
							</tr>
							<tr><td>org.example.domainmodel.tests</td>
							<td>Unit tests go here.</td>
							</tr>
							<tr><td>org.example.domainmodel.ui</td>
							<td>The Eclipse editor and all the other workbench related functionality.</td>
							</tr>
							</table>
							<p>
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/30min_initialprojectlayout.png" alt="" width="912" height="544">
							</div>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="_6" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Step Two: Write the Grammar</h2>
						<p>
							The wizard will automatically open the grammar file 
							<strong>Domainmodel.xtext</strong> in the editor. As you can see it already contains a simple <strong>Hello World</strong> grammar:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.example.domainmodel.Domainmodel with
                                      org.eclipse.xtext.common.Terminals

generate domainmodel "http://www.example.org/domainmodel/Domainmodel"

Model:
  greetings+=Greeting*;
  
Greeting:
  'Hello' name=ID '!';</pre>
							<p>
						</p>
						<p>
							Please replace that grammar definition with the one for our language:
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtext linenums">
grammar org.example.domainmodel.Domainmodel with
                                      org.eclipse.xtext.xbase.Xbase

generate domainmodel "http://www.example.org/domainmodel/Domainmodel"

Domainmodel:
  elements+=AbstractElement*;

AbstractElement:
  PackageDeclaration | Entity | Import;

PackageDeclaration:
  'package' name=QualifiedName '{'
    elements+=AbstractElement*
  '}';

Import:
  'import' importedNamespace=QualifiedNameWithWildCard;

QualifiedNameWithWildCard :
  QualifiedName  ('.' '*')?;

Entity:
  'entity' name=ValidID 
    ('extends' superType=JvmTypeReference)? '{'
    features+=Feature*
  '}';

Feature:
  Property | Operation;

Property:
  name=ValidID ':' type=JvmTypeReference;

Operation:
  'op' name=ValidID 
    '('(params+=FullJvmFormalParameter 
      (',' params+=FullJvmFormalParameter)*)?')'
    ':' type=JvmTypeReference 
    body=XBlockExpression;</pre>
							<p>
						</p>
						<p>
							Let's have a look at what the different grammar constructs mean:
						</p>
						<p>
							</p>
							<ol>
								<li><pre class="prettyprint lang-xtext linenums">
grammar org.example.domainmodel.Domainmodel with
              org.eclipse.xtext.xbase.Xbase</pre>
								    The first thing to note is that instead of inheriting from the usual <strong>org.eclipse.xtext.common.Terminals</strong>
								    grammar, we make use of <strong>org.eclipse.xtext.xbase.Xbase</strong>. 
								    
								    Xbase allows us to easily reuse and embed modern, statically typed expressions as well as Java type signatures in our language.</li>
								<li><pre class="prettyprint lang-xtext linenums">
Domainmodel:
  elements+=AbstractElement*;</pre>
								    
								    The first rule in a grammar is always used as the entry or start rule.  
								    
								    It says that a <strong>Domainmodel</strong> contains an arbitrary number (<code class="prettyprint lang-xtext">*</code>) of <strong>AbstractElement</strong>s which will be added (<code class="prettyprint lang-xtext">+=</code>)
								    to a feature called <code class="prettyprint lang-xtext">elements</code>.</li>
								<li><pre class="prettyprint lang-xtext linenums">
AbstractElement:
  PackageDeclaration | Entity | Import;</pre>
								    The rule <strong>AbstractElement</strong> delegates to either the rule <strong>PackageDeclaration</strong>, the rule <strong>Entity</strong> or the rule <strong>Import</strong>.</li>
								<li><pre class="prettyprint lang-xtext linenums">
PackageDeclaration:
  'package' name=QualifiedName '{'
    elements+=AbstractElement*
  '}';</pre>
								    A <strong>PackageDeclaration</strong> is used to declare a name space which can again contain any number
								    of <strong>AbstractElement</strong>s.  
								    
								    Xtext has built-in support for qualified names and scoping based on the hierarchy
								    of the produced model. The default
								    implementation will add the package names as the prefix to contained entities and nested packages.
								    The qualified name of an <strong>Entity</strong> 'Baz' which is contained in a <strong>PackageDeclaration</strong> 'foo.bar'
								    will be 'foo.bar.Baz'. In case you do not like the default behavior you will need
								    to use a different implementation of <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/naming/IQualifiedNameProvider.html"><abbr title="org.eclipse.xtext.naming.IQualifiedNameProvider">IQualifiedNameProvider</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext/src/org/eclipse/xtext/naming/IQualifiedNameProvider.java">(src)</a>.</li>
								<li><pre class="prettyprint lang-xtext linenums">
Import:
  'import' importedNamespace=QualifiedNameWithWildCard;

QualifiedNameWithWildCard :
  QualifiedName  ('.' '*')?;</pre>
								    The rule <strong>Import</strong> makes use of the <a href="documentation7.html#namespaceImports">namespace support</a>, too. It basically allows you to get full-blown
								    import functionality as you are used to from Java, just by having these two rules in place.</li>
								<li><pre class="prettyprint lang-xtext linenums">
Entity:
  'entity' name=ValidID 
    ('extends' superType=JvmTypeReference)? '{'
    features+=Feature*
  '}';</pre>
								    The rule <strong>Entity</strong> starts with the definition of a keyword followed by a name.
								    
								    The <strong>extends</strong> clause which is parenthesized and optional (note the trailing <code class="prettyprint lang-xtext">?</code>) makes use of the rule
								<strong>JvmTypeReference</strong> which is defined in a super grammar. <strong>JvmTypeReference</strong> defines the
								    syntax for full Java-like type names. That is everything from simple names, over fully qualified
								    names to fully-fledged generics, including wildcards, lower bounds and upper bounds.
								    
								    Finally between curly braces there can be any number of <strong>Features</strong>, which leads us to the next rule.</li>
								<li><pre class="prettyprint lang-xtext linenums">
Feature:
  Property | Operation;</pre>
								    
								    The rule <strong>Feature</strong> delegates to either a <strong>Property</strong> or an <strong>Operation</strong>.</li>
								<li><pre class="prettyprint lang-xtext linenums">
Property:
  name=ValidID ':' type=JvmTypeReference;</pre>
								    A <strong>Property</strong> has a name and makes again use of the inherited rule <strong>JvmTypeReference</strong>.</li>
								<li><pre class="prettyprint lang-xtext linenums">
Operation:
  'op' name=ValidID 
  '('(params+=FullJvmFormalParameter 
    (',' params+=FullJvmFormalParameter)*)?')'
  ':' type=JvmTypeReference 
  body=XBlockExpression;</pre>
								<strong>Operation</strong>s also have a signature as expected. Note that also for formal parameters we can
								    reuse a rule from the super grammar.The <strong>Operation</strong>'s body, that is the actual implementation is defined by the rule <strong>XBlockExpression</strong>
								    which is one of the most often used entry rules from Xbase. A block consist of any
								    number of expressions between curly braces such as:
								<pre class="prettyprint lang-xbase linenums">
{
  return "Hello World" + "!"
}</pre></li>
							</ol>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="_7" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Step Three: Generate Language Artifacts</h2>
						<p>
							Now that we have the grammar in place and defined we need to execute the code generator that will derive the
							various language components. To do so right click in the grammar editor. From the opened context menu, choose
						</p>
						<p>
							<strong>Run As -&gt; Generate Xtext Artifacts</strong>.
						</p>
						<p>
							This will trigger the Xtext language generator. It generates the parser and 
							serializer and some additional infrastructure code. You will see its logging 
							messages in the Console View.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/JvmTutorial_RunGenerator.png" alt="" width="770" height="575">
							</div>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="_8" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Step Four: Define the Mapping to JVM Concepts</h2>
						<p>
							The syntax alone is not enough to make the language work. We need to map the domain specific concepts to some other language
							in order to tell Xtext how it is executed. Usually you define a code generator or an interpreter for that matter,
							but languages using Xbase can omit this step and make use of the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.IJvmModelInferrer">IJvmModelInferrer</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/IJvmModelInferrer.java">(src)</a>.
						</p>
						<p>
							The idea is that you translate your language concepts to any number of Java types (<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/JvmDeclaredType.html"><abbr title="org.eclipse.xtext.common.types.JvmDeclaredType">JvmDeclaredType</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types/emf-gen/org/eclipse/xtext/common/types/JvmDeclaredType.java">(src)</a>). 
							Such a type can be a Java class, Java interface, Java annotation type or a Java enum and may contain
							any valid members. In the end you as a language developer are responsible to create a correct model
							according to the Java language.
						</p>
						<p>
							By mapping your language concepts to Java elements, you implicitly tell Xtext in what kind of scopes
							the various expressions live and what return types are expected from them. Xtext 2.x also comes with
							a code generator which can translate that Java model into readable Java code, including the expressions.
						</p>
						<p>
							If you have already triggered the 'Generate Xtext Artifacts' action, you should find a stub called 
							<strong>org/example/domainmodel/jvmmodel/DomainmodelJvmModelInferrer.xtend</strong>
							in the src folder. Please replace its contents with the following :
						</p>
						<p>
							</p>
							<pre class="prettyprint lang-xtend linenums">
package org.example.domainmodel.jvmmodel

import com.google.inject.Inject
import org.example.domainmodel.domainmodel.Entity
import org.example.domainmodel.domainmodel.Operation
import org.example.domainmodel.domainmodel.Property
import org.eclipse.xtext.naming.IQualifiedNameProvider
import org.eclipse.xtext.xbase.jvmmodel.AbstractModelInferrer
import org.eclipse.xtext.xbase.jvmmodel.IJvmDeclaredTypeAcceptor
import org.eclipse.xtext.xbase.jvmmodel.JvmTypesBuilder

class DomainmodelJvmModelInferrer extends AbstractModelInferrer {

  /**
   * a builder API to programmatically create Jvm elements 
   * in readable way.
   */
  @Inject extension JvmTypesBuilder
  
  @Inject extension IQualifiedNameProvider
  
  def dispatch void infer(Entity element, 
                IJvmDeclaredTypeAcceptor acceptor, 
                boolean isPrelinkingPhase) {
      acceptor.accept(
      element.toClass( element.fullyQualifiedName )
    ).initializeLater [
      documentation = element.documentation
      if (element.superType != null)
        superTypes += element.superType.cloneWithProxies
      for (feature : element.features) {
        switch feature {
      
          Property : {
            members += feature.toField(feature.name, feature.type)
            members += feature.toGetter(feature.name, feature.type)
            members += feature.toSetter(feature.name, feature.type)
          }
      
          Operation : {
            members += feature.toMethod(feature.name, feature.type) [
              documentation = feature.documentation
              for (p : feature.params) {
                parameters += p.toParameter(p.name, p.parameterType)
              }
              body = feature.body
            ]
          }
        }
      }
    ]
  }
}</pre>
							<p>
						</p>
						<p>
							Let's go through the code to get an idea of what is going on. (Please also refer to the JavaDoc of the involved API
							for details, especially the <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.JvmTypesBuilder">JvmTypesBuilder</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.java">(src)</a>).
						</p>
						<p>
							</p>
							<ol>
								<li><pre class="prettyprint lang-xtend linenums">
def dispatch void infer(Entity element, 
          IAcceptor&lt;JvmDeclaredType&gt; acceptor, 
          boolean isPrelinkingPhase) {</pre>
								    Using the dispatch keyword makes sure that the method is called for instances of type <strong>Entity</strong>
								    only. Have a look at <a href="http://www.xtend-lang.org/documentation">the Xtend documentation</a> on polymorphic dispatch to 
								    understand Xtend's dispatch functions. Extending <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/AbstractModelInferrer.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.AbstractModelInferrer">AbstractModelInferrer</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/AbstractModelInferrer.java">(src)</a> makes 
								    sure we don't have to walk the syntax model on our own.</li>
								<li><pre class="prettyprint lang-xtend linenums">
acceptor.accept(element.toClass(element.fullyQualifiedName)  
...</pre>
								  Every <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/JvmDeclaredType.html"><abbr title="org.eclipse.xtext.common.types.JvmDeclaredType">JvmDeclaredType</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types/emf-gen/org/eclipse/xtext/common/types/JvmDeclaredType.java">(src)</a> you create in the model inference needs
								  to be passed to the <strong>acceptor</strong> in order to get recognized.
								  
								  The extension method <strong>toClass</strong> comes from <a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.JvmTypesBuilder">JvmTypesBuilder</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.java">(src)</a>.
								  That class provides a lot of convenient extension methods, which help making the code extremely readable and concise.
								  
								  Most of the methods accept initializer blocks as the last argument, in which the currently created model element is bound
								  to the implicit variable <code class="prettyprint lang-xtend">it</code>. Therein you can further initialize the created Java element.</li>
								<li><pre class="prettyprint lang-xtend linenums">
).initializeLater [</pre>
								    The type inference has two phases. The first phase happens before linking. Only the empty types have to be created
								    and be passed to the <strong>acceptor</strong>.
								    The types' features are created in the second phase. The actions in this phase are specified in the lambda
								    expression passed to <code class="prettyprint lang-xtend">initializeLater</code>. Think of it as an anonymous class.</li>
								<li><pre class="prettyprint lang-xtend linenums">
documentation = element.documentation</pre>
								    Here for instance we assign some JavaDoc to the newly created element. The assignment is translated
								    to an invocation of the method 
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.JvmTypesBuilder">JvmTypesBuilder</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.java">(src)</a><strong>#setDocumentation(<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/common/types/JvmIdentifiableElement.html"><abbr title="org.eclipse.xtext.common.types.JvmIdentifiableElement">JvmIdentifiableElement</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.common.types/emf-gen/org/eclipse/xtext/common/types/JvmIdentifiableElement.java">(src)</a> element,String documentation)</strong>
								    and <code class="prettyprint lang-xtend">element.documentation</code> is in fact calling the extension method  
								<a href="http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.3/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.html"><abbr title="org.eclipse.xtext.xbase.jvmmodel.JvmTypesBuilder">JvmTypesBuilder</abbr></a> <a href="https://github.com/eclipse/xtext/blob/v2.3.0/plugins/org.eclipse.xtext.xbase/src/org/eclipse/xtext/xbase/jvmmodel/JvmTypesBuilder.java">(src)</a><strong>#getDocumentation(<a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EObject.html"><abbr title="org.eclipse.emf.ecore.EObject">EObject</abbr></a> <a href="https://github.com/eclipse/emf/blob/R2_8_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EObject.java">(src)</a> element)</strong>
								    
								    Xtend's extension methods are explained in detail on the <a href="http://www.xtend-lang.org/documentation">Xtend website</a>.</li>
								<li><pre class="prettyprint lang-xtend linenums">
if (element.superType != null)
   superTypes += entity.superType.cloneWithProxies</pre>
								    Set the <strong>superType</strong> on the inferred element. Note that we have to clone the type reference from
								    the <strong>element.superType</strong>. If we did not do that, the type reference would be automatically removed 
								    from the <strong>element</strong>, as <strong>superType</strong> is an EMF containment reference.</li>
								<li><pre class="prettyprint lang-xtend linenums">
for (feature : element.features) {
  switch feature {
    Property : {
      // ...
    }
    Operation : {
      // ...
    }
  }
}</pre>
								    When iterating over a list of heterogeneous types, the switch expression with its type guards comes in handy.
								    If <strong>feature</strong> is of type <strong>Property</strong> the first block is executed. If it is an <strong>Operation</strong> the
								    second block is executed. Note that the variable <strong>feature</strong> will be implicitly casted to the respective
								    type within the blocks.</li>
								<li><pre class="prettyprint lang-xtend linenums">
Property : {
  members += feature.toField(feature.name, feature.type)
  members += feature.toSetter(feature.name, feature.type)
  members += feature.toGetter(feature.name, feature.type)
}</pre>
								    For each <strong>Property</strong> we create a field as well as a corresponding getter and setter.</li>
								<li><pre class="prettyprint lang-xtend linenums">
Operation : {
  members += feature.toMethod(feature.name, feature.type) [
    documentation = feature.documentation
    for (p : feature.params) {
      parameters += p.toParameter(p.name, p.parameterType)
    }
    body = feature.body
  ]
}</pre>
								    
								<strong>Operations</strong> are being mapped to a corresponding Java method. The documentation is translated and
								    the parameters are added within the initializer.
								    
								    The line <code class="prettyprint lang-xtend">body = feature.body</code> registers the <strong>Operation</strong>'s expression as the body of
								    the newly created Java method. This defines the scope of the expression. The frameworks deduces the
								    visible fields and parameters as well as the expected return type from that information.</li>
							</ol>
							<p>
						</p>
						</section>
						<!--  section -->
						<section id="_9" style="padding-top: 68px; margin-top: -68px;">
						<h2 style="padding-top: 15px;">Step Five : Try the Editor!</h2>
						<p>
							We are now able to test the IDE integration, by spawning a new Eclipse using our plug-ins. To do so just
							use the launch shortcut called "Launch Runtime Eclipse", clicking on the green play button in the tool
							bar.
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/JvmTutorial_LaunchEditor.png" alt="" width="635" height="176">
							</div>
							<p>
						</p>
						<p>
							In the new workbench, create a Java project (<strong>File -&gt; New -&gt; Project...  -&gt; Java Project</strong>.
							Xbase relies on a small runtime library on the classpath. To add this, right-click on the project and
							go to <strong>Java Build Path -&gt; Libraries -&gt; Add Library</strong> and choose <strong>Xtend Library</strong>. The create a new file 
							with the file extension you chose in the beginning (<strong>*.dmodel</strong>) in the source folder of the Java project.
							This will open the generated entity editor. Try it and discover the rich functionality it provides. You 
							should also have a look at the preferences of your language to find out what can be individually configured 
							to your users needs.
						</p>
						<p>
							Have fun!
						</p>
						<p>
							</p>
							<div class="thumbnail">
								<img src="images/JvmTutorial_Editor.png" alt="" width="673" height="486">
							</div>
							<p>
						</p>
						</section>
					</div>
				</div>
			</section>
		</div>
	</div>
</div>
	<div id="extra">
		<div class="inner">
			<div class="container">
				<div class="row">
					<div class="span6">
						<h3>Quick Links</h3>
						<ul class="footer-links clearfix">
							<li><a href="http://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li>
							<li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
							<li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
							<li><a href="http://www.eclipse.org/legal/">Legal</a></li>
						</ul>
						<ul class="footer-links clearfix">
	      			<li><a href="http://www.eclipse.org">Eclipse Home</a></li>
							<li><a href="http://marketplace.eclipse.org/">Market Place</a></li>
							<li><a href="http://live.eclipse.org/">Eclipse Live</a></li>
							<li><a href="http://www.planeteclipse.org/">Eclipse Planet</a></li>
						</ul>
					</div>
					<div class="span6">
						<h3><a href="https://twitter.com/#!/xtext" style="color: white;">Xtext</a> on Twitter</h3>
						<br />
						<div id="tweet">
							<p>Please wait while my tweets load</p>
							<p>
								<a href="http://twitter.com/rem">If you can't wait - check
									out what I've been twittering</a>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Le javascript
	    ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	
	<script src="js/bootstrap-transition.js"></script>
	<script src="js/bootstrap-alert.js"></script>
	<script src="js/bootstrap-modal.js"></script>
	<script src="js/bootstrap-dropdown.js"></script>
	<script src="js/bootstrap-scrollspy.js"></script>
	<script src="js/bootstrap-tab.js"></script>
	<script src="js/bootstrap-tooltip.js"></script>
	<script src="js/bootstrap-popover.js"></script>
	<script src="js/bootstrap-button.js"></script>
	<script src="js/bootstrap-collapse.js"></script>
	<script src="js/bootstrap-carousel.js"></script>
	<script src="js/bootstrap-typeahead.js"></script>
	
	<!-- include pretty-print files -->
	<script type="text/javascript" src="google-code-prettify/prettify.js"></script>
	<script type="text/javascript" src="google-code-prettify/lang-xtend.js"></script>
	
	<!-- Include the plug-in -->
	<script src="js/jquery.easing.1.3.js" type="text/javascript"></script>
	<script src="js/custom.js" type="text/javascript"></script>
	<script type="text/javascript" src="google-code-prettify/lang-common.js"></script><script type="text/javascript">
		registerLanguage('grammar|import|generate|terminal|enum|returns|with|hidden|as|current|fragment|EOF', 'xtext');
		registerLanguage('extends|super|instanceof|as|new|null|false|true|val|var|if|else|switch|case|default|do|while|for|typeof|throw|try|catch|finally|this|it|int|boolean|short|char|double|float|long|byte|void|return', 'xbase');
		registerLanguage('module|var|auto-inject|auto|inject|import|true|false', 'mwe2');
		registerLanguage('IMPORT|EXTENSION|FILE|ENDFILE|DEFINE|ENDDEFINE|FOR|ENDFOR|FOREACH|ENDFOREACH|AS|SEPARATOR|ITERATOR|EXPAND|REM|ENDREM|PROTECT|ENDPROTECT|this|IF|ENDIF|ELSE|null', 'xpand');
		registerLanguage('import|extension|this|create|cached|true|false|let|switch|case|if|then|else|context|WARNING|ERROR', 'check');
		registerLanguage('Hello', 'mydsl');
		registerLanguage('package|entity|datatype|many|import|extends|public|op|return|mapped-to', 'domainexample');
		registerLanguage('datatype|mapped-to', 'javatypesexample');
		registerLanguage('events|commands|state|actions|end|resetEvents', 'fowlerexample');
		registerLanguage('ref', 'linkingexample');
	</script>
</body>
</html>
